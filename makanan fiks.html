<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cakranesia Kuliner - Jelajahi Cita Rasa Nusantara</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            overflow-x: hidden;
            background: #0a0a0a;
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(201, 169, 97, 0.2);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
        }

        .logo-image {
            width: 45px;
            height: 45px;
            object-fit: contain;
            border-radius: 8px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-links a:hover {
            color: #FFD700;
        }

        .search-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 30px;
            color: #0a0a0a;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
        }

        .hero {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .hero::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle at 30% 50%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, rgba(255, 165, 0, 0.1) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            to { transform: rotate(360deg); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
            max-width: 900px;
            padding: 2rem;
        }

        .hero-badge {
            display: inline-block;
            padding: 0.6rem 1.3rem;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 50px;
            color: #FFD700;
            font-size: 0.85rem;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 1.5rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 20px 10px rgba(255, 215, 0, 0);
            }
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 900;
            color: white;
            margin-bottom: 1.5rem;
            letter-spacing: -2px;
            line-height: 1.1;
        }

        .hero h1 .gradient-text {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            to { background-position: 200% center; }
        }

        .hero p {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 2rem;
            line-height: 1.8;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-button {
            display: inline-block;
            padding: 1.1rem 2.5rem;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0a0a0a;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            border-radius: 50px;
            transition: all 0.3s;
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.4);
            cursor: pointer;
            border: none;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 60px rgba(255, 215, 0, 0.6);
        }

        .cta-button.secondary {
            background: transparent;
            border: 2px solid rgba(255, 215, 0, 0.5);
            color: #FFD700;
        }

        .cta-button.secondary:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
        }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            padding: 4rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .stat-card {
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            transition: all 0.3s;
        }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-5px);
            border-color: #FFD700;
        }

        .stat-number {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: rgba(255, 255, 255, 0.7);
            margin-top: 0.5rem;
        }

        .section {
            padding: 6rem 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-label {
            color: #FFD700;
            font-size: 0.9rem;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-weight: 900;
            color: white;
            margin-bottom: 1.5rem;
            letter-spacing: -1px;
        }

        .section-description {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: rgba(255, 255, 255, 0.6);
            max-width: 700px;
            margin: 0 auto;
        }

        .filter-section {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            border-color: #FFD700;
            color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-color: transparent;
            color: #0a0a0a;
        }

        .provinces-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr));
            gap: 2rem;
        }

        .province-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(255, 165, 0, 0.05) 100%);
            border-radius: 25px;
            padding: 2.5rem;
            cursor: pointer;
            transition: all 0.4s;
            border: 2px solid rgba(255, 215, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .province-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .province-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: #FFD700;
            box-shadow: 0 30px 60px rgba(255, 215, 0, 0.3);
        }

        .province-card:hover::before {
            opacity: 1;
        }

        .province-icon {
            font-size: clamp(3rem, 5vw, 4rem);
            margin-bottom: 1.5rem;
            display: block;
        }

        .province-name {
            font-size: clamp(1.5rem, 2.5vw, 2rem);
            font-weight: 700;
            margin-bottom: 1rem;
            color: #FFD700;
        }

        .province-desc {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            margin-bottom: 1.5rem;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .province-count {
            display: inline-block;
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .culinary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 350px), 1fr));
            gap: 2rem;
        }

        .culinary-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 25px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .culinary-card:hover {
            transform: translateY(-10px);
            border-color: #FFD700;
            box-shadow: 0 30px 60px rgba(255, 215, 0, 0.3);
        }

        .culinary-thumbnail {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(5rem, 8vw, 8rem);
            position: relative;
        }

        .play-overlay {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #0a0a0a;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.3s;
        }

        .culinary-card:hover .play-overlay {
            opacity: 1;
            transform: scale(1);
        }

        .culinary-content {
            padding: 2rem;
        }

        .culinary-name {
            font-size: clamp(1.3rem, 2vw, 1.8rem);
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
        }

        .culinary-tags {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .culinary-desc {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            margin-bottom: 1.5rem;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .watch-tutorial {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0a0a0a;
            border: none;
            padding: 0.9rem 1.5rem;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            width: 100%;
            justify-content: center;
        }

        .watch-tutorial:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .back-btn {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            color: #FFD700;
            padding: 0.9rem 1.8rem;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 2rem;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
            transform: translateX(-5px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(10, 10, 10, 0.95));
            border-radius: 30px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2.5rem;
            position: relative;
            border: 2px solid rgba(255, 215, 0, 0.3);
            animation: modalSlideIn 0.5s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255, 215, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            color: #FFD700;
            transition: all 0.3s;
            border: none;
        }

        .close-modal:hover {
            background: #FFD700;
            color: #0a0a0a;
            transform: rotate(90deg);
        }

        .modal-video {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            margin: 2rem 0;
            aspect-ratio: 16/9;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: clamp(5rem, 10vw, 8rem);
            position: relative;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .youtube-link {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #FF0000 0%, #CC0000 100%);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s;
            margin: 1.5rem 0;
        }

        .youtube-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 0, 0, 0.5);
        }

        .modal h2 {
            font-size: clamp(1.8rem, 3vw, 2.5rem);
            color: white;
            margin-bottom: 1rem;
        }

        .recipe-section {
            margin-top: 2rem;
        }

        .recipe-section h3 {
            font-size: clamp(1.3rem, 2vw, 1.8rem);
            color: #FFD700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .ingredients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 200px), 1fr));
            gap: 0.8rem;
            margin-bottom: 2rem;
        }

        .ingredient-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.9rem 1.2rem;
            border-radius: 12px;
            border-left: 3px solid #FFD700;
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.3s;
            font-size: clamp(0.85rem, 1.5vw, 0.95rem);
        }

        .ingredient-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
        }

        .steps-list {
            counter-reset: step-counter;
            list-style: none;
        }

        .step-item {
            counter-increment: step-counter;
            margin-bottom: 1.5rem;
            padding-left: 3.5rem;
            position: relative;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .step-item::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #0a0a0a;
        }

        .search-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(10px);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .search-modal.active {
            display: flex;
        }

        .search-container {
            max-width: 800px;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 1.5rem 2rem;
            font-size: clamp(1.3rem, 3vw, 2rem);
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            color: white;
            font-family: 'Inter', sans-serif;
            outline: none;
            transition: all 0.3s;
        }

        .search-input:focus {
            border-color: #FFD700;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .search-results {
            margin-top: 2rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .search-result-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .search-result-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(10px);
            border-color: #FFD700;
        }

        .search-close-btn {
            text-align: center;
            margin-top: 2rem;
        }

        /* AI Chat Section */
        .ai-chat-container {
            max-width: 1000px;
            margin: 4rem auto;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(255, 165, 0, 0.05) 100%);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            padding: 1.5rem;
            text-align: center;
        }

        .chat-header h3 {
            color: #0a0a0a;
            font-size: clamp(1.3rem, 2vw, 1.8rem);
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .chat-header p {
            color: rgba(10, 10, 10, 0.8);
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .chat-messages {
            height: 450px;
            overflow-y: auto;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.3);
        }

        .message {
            margin-bottom: 1.5rem;
            display: flex;
            gap: 1rem;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 800;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0a0a0a;
        }

        .message.user .message-avatar {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .message-content {
            max-width: 75%;
            padding: 1rem 1.3rem;
            border-radius: 15px;
            line-height: 1.6;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .message.ai .message-content {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.2);
            color: white;
        }

        .message.user .message-content {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
        }

        .chat-input-container {
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.4);
            border-top: 1px solid rgba(255, 215, 0, 0.2);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .chat-input {
            flex: 1;
            min-width: 200px;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            resize: none;
        }

        .chat-input:focus {
            outline: none;
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.08);
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .send-btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0a0a0a;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .send-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.5);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Community Section */
        .community-container {
            max-width: 1400px;
            margin: 4rem auto;
        }

        .province-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .province-tab {
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            font-size: clamp(0.85rem, 1.5vw, 0.95rem);
        }

        .province-tab:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
            color: #FFD700;
        }

        .province-tab.active {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-color: transparent;
            color: #0a0a0a;
        }

        .community-chat {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(255, 165, 0, 0.05) 100%);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            overflow: hidden;
        }

        .community-messages {
            height: 500px;
            overflow-y: auto;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.3);
        }

        .community-message {
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 1.2rem;
            animation: messageSlide 0.3s ease-out;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.8rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: #0a0a0a;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            color: #FFD700;
            font-weight: 700;
            font-size: clamp(0.95rem, 1.5vw, 1rem);
        }

        .message-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: clamp(0.8rem, 1.2vw, 0.85rem);
        }

        .message-text {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 0.8rem;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .message-attachment {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.15);
            border-radius: 10px;
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            color: #FFD700;
            text-decoration: none;
            transition: all 0.3s;
            font-size: clamp(0.85rem, 1.2vw, 0.9rem);
        }

        .message-attachment:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
        }

        .community-input-container {
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.4);
            border-top: 1px solid rgba(255, 215, 0, 0.2);
        }

        .input-toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .toolbar-btn {
            padding: 0.8rem 1.2rem;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            color: #FFD700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toolbar-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
            transform: scale(1.1);
        }

        .community-input-wrapper {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .community-input {
            flex: 1;
            min-width: 200px;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }

        .community-input:focus {
            outline: none;
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.08);
        }

        /* Team Section */
        .team-grid {
            max-width: 1200px;
            margin: 4rem auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 240px), 1fr));
            gap: 2rem;
        }

        .team-member {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(255, 165, 0, 0.05) 100%);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 2.5rem 1.5rem;
            text-align: center;
            transition: all 0.4s;
        }

        .team-member:hover {
            transform: translateY(-15px);
            box-shadow: 0 30px 60px rgba(255, 215, 0, 0.3);
            border-color: #FFD700;
        }

        .team-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 800;
            color: #0a0a0a;
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
            transition: transform 0.4s;
        }

        .team-member:hover .team-avatar {
            transform: scale(1.1) rotate(5deg);
        }

        .team-member h3 {
            color: white;
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            font-weight: 700;
            margin-bottom: 0.8rem;
        }

        .team-member p {
            color: rgba(255, 255, 255, 0.7);
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        /* Footer */
        footer {
            background: #050505;
            color: white;
            padding: 4rem 2rem 2rem;
            border-top: 1px solid rgba(255, 215, 0, 0.2);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto 3rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
            gap: 2.5rem;
        }

        .footer-section h3 {
            color: #FFD700;
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .footer-section p,
        .footer-section a {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.9;
            text-decoration: none;
            display: block;
            padding: 0.3rem 0;
            transition: color 0.3s;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
        }

        .footer-section a:hover {
            color: #FFD700;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
            color: rgba(255, 255, 255, 0.5);
            font-size: clamp(0.85rem, 1.2vw, 0.95rem);
        }

        /* Responsive */
        @media (max-width: 968px) {
            .nav-container {
                padding: 1rem;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(10, 10, 10, 0.98);
                flex-direction: column;
                gap: 0;
                padding: 1rem;
                border-top: 1px solid rgba(255, 215, 0, 0.2);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links li {
                padding: 1rem 0;
                border-bottom: 1px solid rgba(255, 215, 0, 0.1);
                width: 100%;
            }

            .nav-links a {
                display: block;
                width: 100%;
            }

            .menu-toggle {
                display: block;
            }

            .section {
                padding: 4rem 1.5rem;
            }

            .hero {
                min-height: calc(100vh - 70px);
                margin-top: 70px;
            }

            .provinces-grid,
            .culinary-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .modal-content {
                padding: 2rem 1.5rem;
            }

            .step-item {
                padding-left: 3rem;
            }

            .step-item::before {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }

            .chat-messages,
            .community-messages {
                height: 350px;
            }

            .team-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .logo {
                font-size: 1.2rem;
            }

            .logo-image {
                width: 35px;
                height: 35px;
            }

            .hero {
                margin-top: 65px;
            }

            .section {
                padding: 3rem 1rem;
            }

            .stats-section {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                padding: 2rem 1rem;
            }

            .stat-card {
                padding: 1.5rem 1rem;
            }

            .culinary-thumbnail {
                height: 200px;
            }

            .culinary-content {
                padding: 1.5rem;
            }

            .modal-content {
                padding: 1.5rem 1rem;
                max-height: 85vh;
            }

            .ingredients-grid {
                grid-template-columns: 1fr;
            }

            .close-modal {
                width: 40px;
                height: 40px;
                font-size: 1.3rem;
            }

            .chat-messages,
            .community-messages {
                height: 300px;
            }

            .team-grid {
                grid-template-columns: 1fr;
            }
        }

        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 215, 0, 0.5);
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo-container">
                <img src="logoo.png" alt="Logo Cakranesia" class="logo-image" onerror="this.style.display='none'">
                <div class="logo">CAKRANESIA KULINER</div>
            </div>
            <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
            <ul class="nav-links" id="navMenu">
                <li><a href="#home">Beranda</a></li>
                <li><a href="#provinces">Provinsi</a></li>
                <li><a href="#ai-section">Rekomendasi AI</a></li>
                <li><a href="#community-section">Komunitas</a></li>
                <li><a href="#team-section">Tim</a></li>
                <li><button class="search-btn" onclick="openSearch()">üîç Cari</button></li>
            </ul>
        </div>
    </nav>

    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-badge">Kuliner Nusantara - BudayaGO! 2025</div>
            <h1><span class="gradient-text">Jelajahi Cita Rasa</span><br>Nusantara</h1>
            <p>Temukan kekayaan kuliner tradisional Indonesia dari 38 provinsi melalui platform digital interaktif. Preservasi warisan budaya melalui teknologi.</p>
            <div class="cta-buttons">
                <button class="cta-button" onclick="scrollToSection('provinces')">Mulai Jelajah</button>
                <button class="cta-button secondary" onclick="openSearch()">üîç Cari Kuliner</button>
            </div>
        </div>
    </section>

    <div class="stats-section">
        <div class="stat-card">
            <div class="stat-number">38</div>
            <div class="stat-label">Provinsi</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">200+</div>
            <div class="stat-label">Kuliner Tradisional</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">150+</div>
            <div class="stat-label">Resep Lengkap</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">50K+</div>
            <div class="stat-label">Pengguna Aktif</div>
        </div>
    </div>

    <section class="section" id="provinces">
        <div class="section-header">
            <div class="section-label">Eksplorasi</div>
            <h2 class="section-title">Jelajahi Provinsi</h2>
            <p class="section-description">Temukan kekayaan kuliner dari setiap provinsi di Indonesia. Setiap daerah memiliki warisan rasa yang unik dan berharga.</p>
        </div>
        
        <div class="filter-section">
            <button class="filter-btn active" onclick="filterProvinces('all')">Semua</button>
            <button class="filter-btn" onclick="filterProvinces('jawa')">Jawa</button>
            <button class="filter-btn" onclick="filterProvinces('sumatera')">Sumatera</button>
            <button class="filter-btn" onclick="filterProvinces('kalimantan')">Kalimantan</button>
            <button class="filter-btn" onclick="filterProvinces('sulawesi')">Sulawesi</button>
            <button class="filter-btn" onclick="filterProvinces('bali-nusa')">Bali & Nusa Tenggara</button>
        </div>

        <div class="provinces-grid" id="provincesGrid"></div>
    </section>

    <section class="section" id="culinarySection" style="display: none;">
        <button class="back-btn" onclick="backToProvinces()">‚Üê Kembali</button>
        <div class="section-header">
            <h2 class="section-title" id="provinceTitle"></h2>
            <p class="section-description" id="provinceDesc"></p>
        </div>
        <div class="culinary-grid" id="culinaryGrid"></div>
    </section>

    <!-- AI Section -->
    <section class="section" id="ai-section">
        <div class="section-header">
            <div class="section-label">Teknologi AI</div>
            <h2 class="section-title">Asisten Kuliner AI</h2>
            <p class="section-description">Tanyakan apapun seputar kuliner dan resep tradisional Indonesia kepada asisten AI kami</p>
        </div>
        <div class="ai-chat-container">
            <div class="chat-header">
                <h3>üçú Asisten Kuliner Cerdas</h3>
                <p>Tanyakan tentang resep, bahan, cara memasak, atau kuliner daerah tertentu</p>
            </div>
            <div class="chat-messages" id="aiChatMessages">
                <div class="message ai">
                    <div class="message-avatar">AI</div>
                    <div class="message-content">
                        Halo! Saya adalah asisten kuliner AI Cakranesia. Saya siap membantu Anda menemukan resep tradisional, memberikan tips memasak, menjelaskan bahan-bahan, atau merekomendasikan kuliner khas daerah. Mau masak apa hari ini?
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <textarea class="chat-input" id="aiChatInput" rows="3" placeholder="Tanyakan tentang resep atau kuliner tradisional..."></textarea>
                    <button class="send-btn" onclick="sendAIMessage()">Kirim</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Community Section -->
    <section class="section" id="community-section">
        <div class="section-header">
            <div class="section-label">Kolaborasi</div>
            <h2 class="section-title">Komunitas Kuliner</h2>
            <p class="section-description">Bergabung, berbagi resep, tips memasak, dan foto kuliner dengan pecinta kuliner Indonesia</p>
        </div>
        <div class="community-container">
            <div class="province-selector">
                <button class="province-tab active" onclick="switchCommunity(this, 'Jawa Barat')">Jawa Barat</button>
                <button class="province-tab" onclick="switchCommunity(this, 'Jawa Tengah')">Jawa Tengah</button>
                <button class="province-tab" onclick="switchCommunity(this, 'Jawa Timur')">Jawa Timur</button>
                <button class="province-tab" onclick="switchCommunity(this, 'Bali')">Bali</button>
                <button class="province-tab" onclick="switchCommunity(this, 'Sumatera Barat')">Sumatera Barat</button>
                <button class="province-tab" onclick="switchCommunity(this, 'Sulawesi Selatan')">Sulawesi Selatan</button>
            </div>
            <div class="community-chat">
                <div class="community-messages" id="communityMessages">
                    <!-- Messages will be loaded here -->
                </div>
                <div class="community-input-container">
                    <div class="input-toolbar">
                        <button class="toolbar-btn" onclick="attachFile('photo')" title="Tambah Foto">üì∑</button>
                        <button class="toolbar-btn" onclick="attachFile('video')" title="Tambah Video">üé•</button>
                        <button class="toolbar-btn" onclick="attachFile('recipe')" title="Tambah Resep">üìù</button>
                        <button class="toolbar-btn" onclick="attachFile('link')" title="Tambah Link">üîó</button>
                    </div>
                    <div class="community-input-wrapper">
                        <input type="text" class="community-input" id="communityInput" placeholder="Bagikan resep, tips memasak, atau foto kuliner Anda...">
                        <button class="send-btn" onclick="sendCommunityMessage()">Kirim</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section class="section" id="team-section">
        <div class="section-header">
            <div class="section-label">Tim Kami</div>
            <h2 class="section-title">Tim Japing (Java Yapping)</h2>
            <p class="section-description">Mahasiswa inovatif yang berkomitmen untuk pelestarian kuliner tradisional Indonesia</p>
        </div>
        <div class="team-grid">
            <div class="team-member">
                <div class="team-avatar">NP</div>
                <h3>Nabila Dwi Putri Zaskia</h3>
                <p>Project Manager & Penulis Proposal</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">MV</div>
                <h3>Muhammad Vigar Septianta Pratama</h3>
                <p>Frontend Developer (UI/UX)</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">AI</div>
                <h3>Ahmad Isnainil Fadhili</h3>
                <p>Backend Developer</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">MK</div>
                <h3>M. Kevin Bayu Maulidi</h3>
                <p>Content Researcher</p>
            </div>
            <div class="team-member">
                <div class="team-avatar">MA</div>
                <h3>M. Andika Aulia Haq</h3>
                <p>Multimedia Designer</p>
            </div>
        </div>
    </section>

    <div class="modal" id="videoModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">√ó</button>
            <h2 id="modalTitle"></h2>
            <div class="modal-video" id="videoPlayer"></div>
            <a href="#" id="youtubeLink" class="youtube-link" target="_blank" style="display: none;">
                ‚ñ∂ Tonton Tutorial di YouTube
            </a>
            <div class="recipe-section">
                <h3>ü•ò Bahan-bahan</h3>
                <div class="ingredients-grid" id="ingredientsSection"></div>
            </div>
            <div class="recipe-section">
                <h3>üë®‚Äçüç≥ Langkah Pembuatan</h3>
                <ol class="steps-list" id="stepsSection"></ol>
            </div>
        </div>
    </div>

    <div class="search-modal" id="searchModal">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Cari kuliner tradisional..." id="searchInput" oninput="searchCulinary()">
            <div class="search-results" id="searchResults"></div>
            <div class="search-close-btn">
                <button class="cta-button secondary" onclick="closeSearch()">Tutup</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Tentang Cakranesia Kuliner</h3>
                <p>Platform digital untuk melestarikan dan mempromosikan kekayaan kuliner tradisional Indonesia melalui teknologi modern dan interaktif. Bagian dari kompetisi BudayaGO! 2025.</p>
            </div>
            <div class="footer-section">
                <h3>Navigasi</h3>
                <a href="#home">Beranda</a>
                <a href="#provinces">Provinsi</a>
                <a href="#ai-section">Rekomendasi AI</a>
                <a href="#community-section">Komunitas</a>
                <a href="#team-section">Tim</a>
            </div>
            <div class="footer-section">
                <h3>Kontak</h3>
                <a href="mailto:japingbudaya@gmail.com">japingbudaya@gmail.com</a>
                <a href="https://wa.me/6288805226080" target="_blank">+6288805226080</a>
                <p>Gresik, Jawa Timur</p>
            </div>
            <div class="footer-section">
                <h3>Kompetisi</h3>
                <p>BudayaGO! 2025 - Kompetisi Inovasi Digital Budaya Indonesia. Kategori: Pelestarian dan Konservasi Kebudayaan</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Cakranesia - Tim Japing. Semua hak dilindungi.</p>
        </div>
    </footer>

    <script>
        // Toggle menu
        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        // Data Kuliner dengan YouTube Links
        const culinaryData = {
            'Jawa Barat': {
                island: 'jawa',
                icon: 'üèîÔ∏è',
                desc: 'Cita rasa khas Sunda dengan kesegaran dan kehangatan alam Priangan',
                foods: [
                    {
                        name: 'Nasi Timbel',
                        emoji: 'üçö',
                        category: 'Makanan Utama',
                        desc: 'Nasi yang dibungkus daun pisang, disajikan dengan lauk pauk khas Sunda seperti ayam goreng, ikan asin, tempe, tahu, dan sambal terasi.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+nasi+timbel+sunda',
                        ingredients: ['Beras 500g', 'Daun pisang segar', 'Ayam kampung 1 ekor', 'Tempe 200g', 'Tahu 200g', 'Ikan asin 100g', 'Sambal terasi pedas', 'Lalapan (timun, kol, kemangi)'],
                        steps: ['Masak nasi dengan air secukupnya hingga pulen', 'Layukan daun pisang di atas api agar lentur', 'Ambil nasi panas dan bungkus dengan daun pisang', 'Goreng ayam dengan bumbu kuning khas Sunda', 'Goreng tempe dan tahu hingga garing', 'Buat sambal terasi dengan cabai rawit', 'Susun nasi timbel dengan semua lauk', 'Sajikan dengan lalapan segar']
                    },
                    {
                        name: 'Karedok',
                        emoji: 'ü•ó',
                        category: 'Salad',
                        desc: 'Salad sayuran mentah khas Sunda dengan bumbu kacang yang gurih dan segar.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+karedok+sunda',
                      ingredients: ['Kacang panjang 100g', 'Tauge 100g', 'Kol 100g', 'Mentimun 1 buah', 'Kacang tanah goreng 200g', 'Cabai rawit 5 buah', 'Gula merah 50g', 'Asam jawa', 'Garam', 'Air secukupnya'],
                        steps: ['Iris tipis semua sayuran mentah', 'Haluskan kacang tanah goreng dengan cabai, gula merah, dan garam', 'Tambahkan air asam jawa secukupnya', 'Campur bumbu kacang dengan sayuran', 'Aduk rata hingga semua sayuran terbalut bumbu', 'Sajikan segera agar sayuran tetap segar']
                    },
                    {
                        name: 'Pepes Ikan',
                        emoji: 'üêü',
                        category: 'Lauk Pauk',
                        desc: 'Ikan yang dibumbui dan dibungkus daun pisang kemudian dikukus atau dibakar.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+pepes+ikan+sunda',
                        ingredients: ['Ikan mas 500g', 'Daun pisang', 'Cabai merah 10 buah', 'Bawang merah 8 siung', 'Bawang putih 5 siung', 'Kemiri 3 butir', 'Kunyit 2cm', 'Jahe 1cm', 'Serai 2 batang', 'Daun kemangi', 'Garam dan gula'],
                        steps: ['Bersihkan ikan dan lumuri dengan jeruk nipis', 'Haluskan cabai, bawang merah, bawang putih, kemiri, kunyit, jahe', 'Campurkan bumbu halus dengan ikan', 'Tambahkan serai dan daun kemangi', 'Bungkus dengan daun pisang, jepit dengan lidi', 'Kukus atau bakar selama 30-40 menit', 'Sajikan pepes ikan hangat']
                    }
                ]
            },
            'Jawa Tengah': {
                island: 'jawa',
                icon: 'üèõÔ∏è',
                desc: 'Kelezatan kuliner Jawa dengan cita rasa manis dan gurih yang khas',
                foods: [
                    {
                        name: 'Gudeg',
                        emoji: 'ü•ò',
                        category: 'Makanan Utama',
                        desc: 'Nangka muda yang dimasak dengan santan dan gula kelapa, disajikan dengan nasi, ayam, telur, dan sambal krecek.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+gudeg+jogja',
                        ingredients: ['Nangka muda 1kg', 'Santan kental 1 liter', 'Gula merah 250g', 'Bawang putih 10 siung', 'Bawang merah 15 siung', 'Ketumbar 2 sdm', 'Daun salam 5 lembar', 'Lengkuas 3cm', 'Daun jati untuk warna', 'Telur rebus', 'Ayam kampung'],
                        steps: ['Potong nangka muda sesuai selera', 'Rebus nangka dengan daun jati untuk warna coklat', 'Haluskan bawang putih, bawang merah, ketumbar', 'Tumis bumbu halus hingga harum', 'Masukkan nangka, santan, gula merah', 'Tambahkan daun salam dan lengkuas', 'Masak dengan api kecil selama 5-6 jam', 'Sajikan dengan nasi, ayam, telur, dan krecek']
                    },
                    {
                        name: 'Soto Kudus',
                        emoji: 'üçú',
                        category: 'Soto',
                        desc: 'Soto ayam khas Kudus dengan kuah bening dan taburan koya yang gurih.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+soto+kudus',
                        ingredients: ['Ayam kampung 1 ekor', 'Bawang putih 5 siung', 'Merica butir 1 sdt', 'Kemiri 3 butir', 'Serai 2 batang', 'Daun jeruk 5 lembar', 'Koya (kerupuk + bawang goreng)', 'Soun', 'Tauge', 'Telur rebus', 'Jeruk nipis'],
                        steps: ['Rebus ayam hingga empuk, sisihkan', 'Haluskan bawang putih, merica, kemiri', 'Tumis bumbu halus hingga harum', 'Masukkan ke kuah kaldu ayam', 'Tambahkan serai dan daun jeruk', 'Rendam soun dalam air panas', 'Suwir-suwir ayam rebus', 'Sajikan dengan soun, tauge, telur, dan taburan koya']
                    }
                ]
            },
            'Jawa Timur': {
                island: 'jawa',
                icon: 'üåã',
                desc: 'Warisan kuliner dengan cita rasa berani dan penuh karakter',
                foods: [
                    {
                        name: 'Rawon',
                        emoji: 'üçñ',
                        category: 'Makanan Utama',
                        desc: 'Sup daging sapi dengan kuah hitam dari kluwek, khas Surabaya dan Jawa Timur.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+rawon+jawa+timur',
                        ingredients: ['Daging sapi 500g', 'Kluwek 6 butir', 'Bawang merah 8 siung', 'Bawang putih 6 siung', 'Kemiri 4 butir', 'Kunyit 3cm', 'Jahe 2cm', 'Lengkuas 3cm', 'Serai 2 batang', 'Daun jeruk 5 lembar', 'Tauge', 'Telur asin'],
                        steps: ['Rebus daging sapi hingga empuk', 'Keluarkan kluwek dari cangkangnya', 'Haluskan kluwek, bawang merah, bawang putih, kemiri, kunyit, jahe', 'Tumis bumbu halus hingga harum', 'Masukkan bumbu ke kuah daging', 'Tambahkan lengkuas, serai, daun jeruk', 'Masak hingga kuah berwarna hitam pekat', 'Sajikan dengan nasi, tauge, dan telur asin']
                    },
                    {
                        name: 'Rujak Cingur',
                        emoji: 'ü•ô',
                        category: 'Salad',
                        desc: 'Rujak khas Surabaya dengan cingur (hidung sapi), sayuran, dan saus petis.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+rujak+cingur',
                        ingredients: ['Cingur sapi 200g', 'Kangkung rebus', 'Tauge rebus', 'Timun', 'Bengkoang', 'Lontong', 'Petis udang 100g', 'Kacang tanah goreng 150g', 'Cabai rawit', 'Gula merah', 'Garam'],
                        steps: ['Rebus cingur hingga empuk, iris tipis', 'Iris semua sayuran', 'Haluskan kacang tanah, cabai, gula merah', 'Campurkan petis dengan bumbu halus', 'Tambahkan air matang secukupnya', 'Campur semua bahan dengan saus petis', 'Aduk rata hingga merata', 'Sajikan dengan lontong dan kerupuk']
                    }
                ]
            },
            'Bali': {
                island: 'bali-nusa',
                icon: 'üèùÔ∏è',
                desc: 'Kekayaan rasa Bali dengan bumbu rempah yang khas dan menggugah selera',
                foods: [
                    {
                        name: 'Babi Guling',
                        emoji: 'üê∑',
                        category: 'Makanan Utama',
                        desc: 'Babi utuh yang diisi bumbu lengkap kemudian dipanggang hingga kulitnya renyah.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+babi+guling+bali',
                        ingredients: ['Babi muda 5kg', 'Bawang merah 200g', 'Bawang putih 100g', 'Kunyit 50g', 'Jahe 50g', 'Lengkuas 50g', 'Kemiri 100g', 'Cabai merah 100g', 'Terasi 2 sdm', 'Ketumbar 3 sdm', 'Merica 2 sdm', 'Serai 10 batang', 'Daun jeruk', 'Garam'],
                        steps: ['Bersihkan babi, buang isi perut', 'Haluskan semua bumbu', 'Lumuri seluruh babi dengan bumbu halus', 'Isi perut babi dengan serai dan daun jeruk', 'Jahit perut babi agar bumbu tidak keluar', 'Tusuk babi dengan bambu untuk dipanggang', 'Panggang sambil diputar di atas bara api selama 3-4 jam', 'Sajikan dengan nasi, lawar, dan sambal matah']
                    },
                    {
                        name: 'Lawar',
                        emoji: 'ü•ó',
                        category: 'Salad',
                        desc: 'Campuran sayuran, kelapa parut, dan daging cincang dengan bumbu khas Bali.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+lawar+bali',
                        ingredients: ['Daging babi/ayam cincang 300g', 'Kacang panjang 200g', 'Kelapa parut 200g', 'Bawang merah 10 siung', 'Bawang putih 6 siung', 'Cabai rawit 10 buah', 'Kencur 3cm', 'Terasi 1 sdm', 'Jeruk limau', 'Garam', 'Darah segar (opsional)'],
                        steps: ['Iris tipis kacang panjang', 'Sangrai kelapa parut hingga harum', 'Haluskan bawang merah, bawang putih, cabai, kencur, terasi', 'Tumis bumbu halus', 'Masukkan daging cincang, masak hingga matang', 'Campurkan dengan kacang panjang dan kelapa', 'Beri perasan jeruk limau', 'Aduk rata, sajikan segera']
                    }
                ]
            },
            'Sumatera Barat': {
                island: 'sumatera',
                icon: 'üèîÔ∏è',
                desc: 'Kuliner Minang dengan rempah pedas dan santan yang kaya rasa',
                foods: [
                    {
                        name: 'Rendang',
                        emoji: 'üçõ',
                        category: 'Makanan Utama',
                        desc: 'Daging sapi yang dimasak dengan santan dan rempah-rempah khas Minangkabau hingga kering.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+rendang+padang+asli',
                        ingredients: ['Daging sapi 1kg', 'Santan kental 1 liter', 'Cabai merah 15 buah', 'Bawang merah 15 siung', 'Bawang putih 10 siung', 'Jahe 5cm', 'Lengkuas 5cm', 'Kunyit 3cm', 'Serai 4 batang', 'Daun jeruk 10 lembar', 'Daun kunyit 3 lembar', 'Asam kandis 3 keping', 'Kelapa sangrai 100g'],
                        steps: ['Potong daging sapi sesuai selera', 'Haluskan cabai, bawang merah, bawang putih, jahe, lengkuas, kunyit', 'Sangrai kelapa hingga coklat, haluskan', 'Masak santan dengan bumbu halus', 'Masukkan daging, aduk rata', 'Tambahkan serai, daun jeruk, daun kunyit, asam kandis', 'Masak dengan api kecil sambil diaduk hingga santan menyusut', 'Lanjutkan memasak hingga bumbu meresap dan daging berwarna coklat kehitaman (6-8 jam)', 'Sajikan dengan nasi hangat dan sambal']
                    },
                    {
                        name: 'Sate Padang',
                        emoji: 'ÔøΩ‰∏≤',
                        category: 'Sate',
                        desc: 'Sate daging sapi atau lidah dengan kuah kuning kental yang gurih dan pedas.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+sate+padang',
                        ingredients: ['Daging sapi/lidah 500g', 'Tepung beras 50g', 'Kunyit 5cm', 'Jahe 3cm', 'Lengkuas 3cm', 'Bawang merah 10 siung', 'Bawang putih 6 siung', 'Cabai keriting 8 buah', 'Ketumbar 2 sdm', 'Jinten 1 sdt', 'Kayu manis 2cm', 'Serai 2 batang', 'Garam', 'Lontong', 'Bawang goreng'],
                        steps: ['Rebus daging hingga empuk, potong dadu', 'Tusuk daging dengan tusukan sate', 'Haluskan kunyit, jahe, lengkuas, bawang merah, bawang putih, cabai, ketumbar, jinten', 'Tumis bumbu halus hingga harum', 'Masukkan ke kuah kaldu daging', 'Tambahkan tepung beras yang sudah dilarutkan', 'Masak hingga kuah mengental', 'Bakar sate sebentar', 'Sajikan sate dengan lontong dan siram kuah kental']
                    }
                ]
            },
            'Sulawesi Selatan': {
                island: 'sulawesi',
                icon: '‚õµ',
                desc: 'Cita rasa Bugis-Makassar dengan seafood segar dan bumbu rempah',
                foods: [
                    {
                        name: 'Coto Makassar',
                        emoji: 'üç≤',
                        category: 'Sup',
                        desc: 'Sup jeroan sapi dengan kuah kacang yang gurih khas Makassar.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+coto+makassar',
                        ingredients: ['Jeroan sapi 500g', 'Daging sapi 300g', 'Kacang tanah 200g', 'Bawang merah 10 siung', 'Bawang putih 8 siung', 'Kemiri 5 butir', 'Ketumbar 2 sdm', 'Jinten 1 sdt', 'Kayu manis 2cm', 'Pala 1/4 butir', 'Cengkeh 4 butir', 'Serai 2 batang', 'Jahe 3cm', 'Daun jeruk', 'Daun salam', 'Ketupat'],
                        steps: ['Rebus jeroan dan daging hingga empuk', 'Sangrai kacang tanah, haluskan', 'Haluskan bawang merah, bawang putih, kemiri, ketumbar, jinten', 'Tumis bumbu halus dengan kayu manis, pala, cengkeh', 'Masukkan bumbu ke kuah kaldu', 'Tambahkan kacang tanah halus', 'Masukkan serai, jahe, daun jeruk, daun salam', 'Masak hingga kuah mengental dan bumbu meresap', 'Sajikan dengan ketupat dan taburan bawang goreng']
                    },
                    {
                        name: 'Pallu Basa',
                        emoji: 'ü•©',
                        category: 'Sup',
                        desc: 'Sup daging sapi dengan kuah santan yang gurih dan sedikit pedas.',
                        youtubeUrl: 'https://www.youtube.com/results?search_query=cara+membuat+pallu+basa',
                        ingredients: ['Daging sapi 500g', 'Jeroan sapi 300g', 'Santan 500ml', 'Kelapa sangrai 100g', 'Bawang merah 12 siung', 'Bawang putih 8 siung', 'Cabai merah 5 buah', 'Kemiri 4 butir', 'Ketumbar 1 sdm', 'Lengkuas 3cm', 'Serai 2 batang', 'Daun salam 3 lembar', 'Buras (ketupat khas Makassar)'],
                        steps: ['Rebus daging dan jeroan hingga empuk', 'Sangrai kelapa hingga coklat, haluskan', 'Haluskan bawang merah, bawang putih, cabai, kemiri, ketumbar', 'Tumis bumbu halus hingga harum', 'Masukkan ke kuah kaldu', 'Tambahkan kelapa sangrai halus', 'Tuang santan, aduk rata', 'Masukkan lengkuas, serai, daun salam', 'Masak dengan api kecil hingga kuah mengental', 'Sajikan dengan buras dan sambal']
                    }
                ]
            }
        };

        // Load provinces
        function loadProvinces() {
            const grid = document.getElementById('provincesGrid');
            grid.innerHTML = '';
            
            Object.keys(culinaryData).forEach(province => {
                const data = culinaryData[province];
                const card = document.createElement('div');
                card.className = 'province-card';
                card.setAttribute('data-island', data.island);
                card.innerHTML = `
                    <span class="province-icon">${data.icon}</span>
                    <h3 class="province-name">${province}</h3>
                    <p class="province-desc">${data.desc}</p>
                    <span class="province-count">${data.foods.length} Kuliner</span>
                `;
                card.onclick = () => showCulinary(province);
                grid.appendChild(card);
            });
        }

        // Filter provinces
        function filterProvinces(island) {
            const cards = document.querySelectorAll('.province-card');
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            cards.forEach(card => {
                if (island === 'all' || card.getAttribute('data-island') === island) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Show culinary
        function showCulinary(province) {
            const data = culinaryData[province];
            document.getElementById('provinces').style.display = 'none';
            document.getElementById('culinarySection').style.display = 'block';
            document.getElementById('provinceTitle').textContent = `Kuliner ${province}`;
            document.getElementById('provinceDesc').textContent = data.desc;
            
            const grid = document.getElementById('culinaryGrid');
            grid.innerHTML = '';
            
            data.foods.forEach(food => {
                const card = document.createElement('div');
                card.className = 'culinary-card';
                card.innerHTML = `
                    <div class="culinary-thumbnail">
                        ${food.emoji}
                        <div class="play-overlay">‚ñ∂</div>
                    </div>
                    <div class="culinary-content">
                        <h3 class="culinary-name">${food.name}</h3>
                        <div class="culinary-tags">
                            <span class="tag">${food.category}</span>
                            <span class="tag">${province}</span>
                        </div>
                        <p class="culinary-desc">${food.desc}</p>
                        <button class="watch-tutorial">‚ñ∂ Lihat Resep & Tutorial</button>
                    </div>
                `;
                card.onclick = () => showRecipe(food);
                grid.appendChild(card);
            });
            
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        // Show recipe modal
        function showRecipe(food) {
            document.getElementById('videoModal').classList.add('active');
            document.getElementById('modalTitle').textContent = food.name;
            document.getElementById('videoPlayer').innerHTML = food.emoji;
            
            const youtubeLink = document.getElementById('youtubeLink');
            if (food.youtubeUrl) {
                youtubeLink.href = food.youtubeUrl;
                youtubeLink.style.display = 'inline-flex';
            } else {
                youtubeLink.style.display = 'none';
            }
            
            const ingredientsSection = document.getElementById('ingredientsSection');
            ingredientsSection.innerHTML = '';
            food.ingredients.forEach(ingredient => {
                const div = document.createElement('div');
                div.className = 'ingredient-item';
                div.textContent = ingredient;
                ingredientsSection.appendChild(div);
            });
            
            const stepsSection = document.getElementById('stepsSection');
            stepsSection.innerHTML = '';
            food.steps.forEach(step => {
                const li = document.createElement('li');
                li.className = 'step-item';
                li.textContent = step;
                stepsSection.appendChild(li);
            });
            
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('videoModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Back to provinces
        function backToProvinces() {
            document.getElementById('culinarySection').style.display = 'none';
            document.getElementById('provinces').style.display = 'block';
            window.scrollTo({top: document.getElementById('provinces').offsetTop - 100, behavior: 'smooth'});
        }

        // Search functionality
        function openSearch() {
            document.getElementById('searchModal').classList.add('active');
            document.getElementById('searchInput').focus();
            document.body.style.overflow = 'hidden';
        }

        function closeSearch() {
            document.getElementById('searchModal').classList.remove('active');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').innerHTML = '';
            document.body.style.overflow = 'auto';
        }

        function searchCulinary() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const results = document.getElementById('searchResults');
            results.innerHTML = '';
            
            if (query.length < 2) return;
            
            Object.keys(culinaryData).forEach(province => {
                culinaryData[province].foods.forEach(food => {
                    if (food.name.toLowerCase().includes(query) || 
                        food.desc.toLowerCase().includes(query) ||
                        province.toLowerCase().includes(query)) {
                        const item = document.createElement('div');
                        item.className = 'search-result-item';
                        item.innerHTML = `
                            <strong>${food.emoji} ${food.name}</strong><br>
                            <small style="color: rgba(255,255,255,0.6)">${province} - ${food.category}</small>
                        `;
                        item.onclick = () => {
                            closeSearch();
                            showCulinary(province);
                            setTimeout(() => showRecipe(food), 500);
                        };
                        results.appendChild(item);
                    }
                });
            });
            
            if (results.children.length === 0) {
                results.innerHTML = '<p style="color: rgba(255,255,255,0.6); text-align: center; padding: 2rem;">Tidak ditemukan hasil untuk "' + query + '"</p>';
            }
        }

        // AI Chat
        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const messages = document.getElementById('aiChatMessages');
            const text = input.value.trim();
            
            if (!text) return;
            
            // User message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.innerHTML = `
                <div class="message-avatar">U</div>
                <div class="message-content">${text}</div>
            `;
            messages.appendChild(userMsg);
            input.value = '';
            
            // AI response
            setTimeout(() => {
                const aiMsg = document.createElement('div');
                aiMsg.className = 'message ai';
                aiMsg.innerHTML = `
                    <div class="message-avatar">AI</div>
                    <div class="message-content">${getAIResponse(text)}</div>
                `;
                messages.appendChild(aiMsg);
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
            
            messages.scrollTop = messages.scrollHeight;
        }

        function getAIResponse(query) {
            const q = query.toLowerCase();
            
            if (q.includes('rendang')) {
                return 'Rendang adalah masakan khas Minangkabau yang sudah mendunia! Untuk membuat rendang yang enak, kuncinya ada pada rempah-rempah yang lengkap dan proses memasak yang sabar. Gunakan daging sapi has dalam, santan kental dari kelapa tua, dan masak minimal 4-5 jam hingga bumbu meresap sempurna. Jangan lupa tambahkan asam kandis untuk rasa asam khas rendang!';
            } else if (q.includes('dessert') || q.includes('manis') || q.includes('kue')) {
                return 'Indonesia punya banyak dessert tradisional yang lezat! Ada klepon, onde-onde, lupis, cenil, es cendol, es teler, dan masih banyak lagi. Kebanyakan menggunakan bahan dasar kelapa, gula merah, dan tepung ketan. Tips: gunakan kelapa parut segar dan gula merah asli untuk rasa terbaik!';
            } else if (q.includes('sehat') || q.includes('diet')) {
                return 'Kuliner Indonesia bisa disesuaikan untuk diet sehat! Pilih masakan yang direbus atau dikukus seperti pepes, botok, atau tim ayam. Kurangi santan dan gula, perbanyak sayuran dan protein rendah lemak. Bumbu rempah Indonesia sebenarnya sangat sehat karena kaya antioksidan dan anti-inflamasi!';
            } else if (q.includes('cara') || q.includes('tips') || q.includes('bagaimana')) {
                return 'Untuk memasak kuliner Indonesia yang enak, kuncinya ada di rempah-rempah segar! Gunakan bumbu yang baru dihaluskan, jangan yang sudah lama. Perhatikan teknik memasak: tumis bumbu hingga harum, gunakan api yang tepat, dan beri waktu untuk bumbu meresap. Jangan terburu-buru, masakan tradisional butuh kesabaran!';
            } else if (q.includes('rekomendasi') || q.includes('saran') || q.includes('coba')) {
                return 'Saya merekomendasikan untuk mencoba rendang dari Sumatera Barat, gudeg dari Yogyakarta, rawon dari Jawa Timur, atau babi guling dari Bali. Semua ini adalah kuliner ikonik yang wajib dicoba! Untuk pemula, mulai dengan nasi goreng atau mie goreng dulu, lalu tingkatkan ke masakan yang lebih kompleks.';
            } else {
                return 'Terima kasih sudah bertanya! Saya bisa membantu Anda dengan informasi tentang resep kuliner tradisional Indonesia, tips memasak, bahan-bahan yang digunakan, atau rekomendasi kuliner dari berbagai daerah. Silakan tanyakan hal spesifik yang ingin Anda ketahui! üòä';
            }
        }

        // Community Chat
        let currentCommunityProvince = 'Jawa Barat';

        const communityMessages = {
            'Jawa Barat': [
                {
                    user: 'Siti Nurhaliza',
                    avatar: 'SN',
                    time: '2 jam yang lalu',
                    text: 'Baru coba bikin karedok sendiri di rumah! Ternyata gampang banget ya. Kuncinya di bumbu kacangnya yang harus pas manis, asin, dan pedasnya.',
                    attachment: null
                },
                {
                    user: 'Budi Santoso',
                    avatar: 'BS',
                    time: '1 jam yang lalu',
                    text: 'Betul! Saya tambahkan sedikit terasi biar lebih gurih. Ada yang punya tips bikin sambel kecombrang?',
                    attachment: null
                },
                {
                    user: 'Dewi Lestari',
                    avatar: 'DL',
                    time: '30 menit yang lalu',
                    text: 'Ini resep nasi timbel favorit keluarga saya. Sudah turun temurun dari nenek üçö',
                    attachment: { icon: 'üìÑ', text: 'resep-nasi-timbel-authentic.pdf' }
                }
            ],
            'Jawa Tengah': [
                {
                    user: 'Rina Wati',
                    avatar: 'RW',
                    time: '3 jam yang lalu',
                    text: 'Gudeg buatan saya kok kurang manis ya? Padahal sudah pakai gula merah banyak. Ada tips?',
                    attachment: null
                },
                {
                    user: 'Agus Salim',
                    avatar: 'AS',
                    time: '2 jam yang lalu',
                    text: 'Coba masak lebih lama mbak, minimal 6 jam. Gula merahnya akan meresap sempurna. Jangan lupa pakai api kecil!',
                    attachment: null
                }
            ],
            'Jawa Timur': [
                {
                    user: 'Fahmi Rahman',
                    avatar: 'FR',
                    time: '4 jam yang lalu',
                    text: 'Rawon paling enak kalau pakai kluwek asli. Jangan yang bubuk instan, beda banget rasanya!',
                    attachment: null
                },
                {
                    user: 'Maya Sari',
                    avatar: 'MS',
                    time: '1 jam yang lalu',
                    text: 'Setuju! Kalau ada yang ke Surabaya, mampir ke Pasar Genteng beli kluwek asli. Worth it!',
                    attachment: null
                }
            ],
            'Bali': [
                {
                    user: 'Made Wirawan',
                    avatar: 'MW',
                    time: '5 jam yang lalu',
                    text: 'Baru selesai bikin babi guling untuk upacara. 8 jam masak tapi hasilnya puas banget! üê∑',
                    attachment: { icon: 'üì∑', text: 'babi-guling-ceremony.jpg' }
                },
                {
                    user: 'Ketut Ayu',
                    avatar: 'KA',
                    time: '2 jam yang lalu',
                    text: 'Wah kelihatan enak! Kulitnya renyah gak? Share resep bumbu basenya dong',
                    attachment: null
                }
            ],
            'Sumatera Barat': [
                {
                    user: 'Roni Padang',
                    avatar: 'RP',
                    time: '3 jam yang lalu',
                    text: 'Rendang terenak itu yang masak 12 jam! Daging sampai hitam legit, bumbu meresap sempurna.',
                    attachment: null
                },
                {
                    user: 'Sari Minang',
                    avatar: 'SM',
                    time: '1 jam yang lalu',
                    text: 'Betul bang! Jangan lupa pakai kelapa sangrai yang fresh. Itu yang bikin rendang beda dari gulai biasa.',
                    attachment: null
                }
            ],
            'Sulawesi Selatan': [
                {
                    user: 'Andi Makassar',
                    avatar: 'AM',
                    time: '4 jam yang lalu',
                    text: 'Coto Makassar paling mantap kalau pakai jeroan sapi segar. Terus kacang tanahnya harus disangrai dulu!',
                    attachment: null
                },
                {
                    user: 'Nurul Bugis',
                    avatar: 'NB',
                    time: '30 menit yang lalu',
                    text: 'Ada yang tau dimana beli ketupat buras yang enak? Mau bikin pallu basa nih',
                    attachment: null
                }
            ]
        };

        function loadCommunityMessages(province) {
            const container = document.getElementById('communityMessages');
            container.innerHTML = '';
            
            const messages = communityMessages[province] || [];
            messages.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'community-message';
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <div class="user-avatar">${msg.avatar}</div>
                        <div class="user-info">
                            <div class="user-name">${msg.user}</div>
                            <div class="message-time">${msg.time}</div>
                        </div>
                    </div>
                    <div class="message-text">${msg.text}</div>
                    ${msg.attachment ? `
                        <a href="#" class="message-attachment">
                            <span style="font-size: 1.5rem">${msg.attachment.icon}</span>
                            <span>${msg.attachment.text}</span>
                        </a>
                    ` : ''}
                `;
                container.appendChild(messageDiv);
            });
            
            container.scrollTop = container.scrollHeight;
        }

        function switchCommunity(button, province) {
            document.querySelectorAll('.province-tab').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            currentCommunityProvince = province;
            loadCommunityMessages(province);
        }

        function sendCommunityMessage() {
            const input = document.getElementById('communityInput');
            const text = input.value.trim();
            
            if (!text) return;
            
            const container = document.getElementById('communityMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'community-message';
            messageDiv.innerHTML = `
                <div class="message-header">
                    <div class="user-avatar">U</div>
                    <div class="user-info">
                        <div class="user-name">Anda</div>
                        <div class="message-time">Baru saja</div>
                    </div>
                </div>
                <div class="message-text">${text}</div>
            `;
            container.appendChild(messageDiv);
            input.value = '';
            container.scrollTop = container.scrollHeight;
        }

        function attachFile(type) {
            const fileTypes = {
                'photo': 'Foto',
                'video': 'Video',
                'recipe': 'Resep',
                'link': 'Link'
            };
            alert(`Fitur upload ${fileTypes[type]} akan segera tersedia! üöÄ`);
        }

        // Scroll to section
        function scrollToSection(id) {
            const element = document.getElementById(id);
            const navHeight = 80;
            const elementPosition = element.offsetTop - navHeight;
            window.scrollTo({
                top: elementPosition,
                behavior: 'smooth'
            });
        }

        // Enter key handlers
        document.addEventListener('DOMContentLoaded', function() {
            loadProvinces();
            loadCommunityMessages(currentCommunityProvince);
            
            document.getElementById('aiChatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendAIMessage();
                }
            });
            
            document.getElementById('communityInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    sendCommunityMessage();
                }
            });
            
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                }
            });
        });

        // Close modal on outside click
        document.getElementById('videoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.getElementById('searchModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSearch();
            }
        });

        // Smooth scroll for nav links
        document.querySelectorAll('.nav-links a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const navHeight = 80;
                    const elementPosition = target.offsetTop - navHeight;
                    window.scrollTo({
                        top: elementPosition,
                        behavior: 'smooth'
                    });
                    // Close mobile menu if open
                    document.getElementById('navMenu').classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>